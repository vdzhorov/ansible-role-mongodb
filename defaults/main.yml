---

mongodb_version: "8.0.15"
mongodb_repo_series: "8.0"

mongodb_service_name: mongod

mongodb_bind_ip: "0.0.0.0"
mongodb_port: 27017

mongodb_dbpath: "/var/lib/mongodb"
mongodb_logpath: "/var/log/mongodb/mongod.log"

mongodb_enable_auth: true
mongodb_keyfile_path: "/etc/mongod-keyfile"
mongodb_keyfile_content: "{{ lookup('password', inventory_dir ~ '/.mongodb_keyfile chars=ascii_letters,digits length=48') }}"

mongodb_replset_enabled: true
mongodb_replset_name: "rs0"
mongodb_replset_members:
  - "{{ ansible_fqdn | default(inventory_hostname) }}:{{ mongodb_port }}"
mongodb_node_role: primary  # primary|secondary|arbiter

mongodb_admin_user: "admin"
mongodb_admin_pwd: "ChangeMe_SuperSecret"

mongodb_users: []
# - name: appuser
#   pwd: "ChangeMe_AppSecret"
#   db: appdb
#   roles:
#     - role: readWrite
#       db: appdb

mongodb_nofile_limit: 64000
mongodb_nproc_limit: 32000
mongodb_swappiness: 1
mongodb_disable_thp: true

mongodb_tls_enabled: false
mongodb_tls_mode: "requireTLS"  # preferTLS|requireTLS|disabled
mongodb_tls_cert_file: "/etc/ssl/mongodb/server.pem"
mongodb_tls_ca_file: "/etc/ssl/mongodb/ca.pem"
